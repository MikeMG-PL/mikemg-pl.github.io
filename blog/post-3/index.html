<!doctype html>
<html
  itemscope
  class="dark"
  lang="en-us"
  itemtype="http://schema.org/WebPage">
  <head>
    
    <meta charset="utf-8" />


<meta
  name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=5" />


<meta name="theme-name" content="hugoplate" />















<link rel="shortcut icon" href="/images/favicon_huc26a9875d266baeb39f22ddb9a664de0_7277_96x0_resize_lanczos_3.png" type="image/x-icon">
<link rel="icon" href="/images/favicon_huc26a9875d266baeb39f22ddb9a664de0_7277_96x0_resize_lanczos_3.png" type="image/x-icon">
<link rel="icon" type="image/png" sizes="48x48" href="/images/favicon_huc26a9875d266baeb39f22ddb9a664de0_7277_48x0_resize_lanczos_3.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon_huc26a9875d266baeb39f22ddb9a664de0_7277_96x0_resize_lanczos_3.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon_huc26a9875d266baeb39f22ddb9a664de0_7277_144x0_resize_lanczos_3.png">








<link rel="manifest" href="/manifest.webmanifest" />
<meta
  name="msapplication-TileColor"
  content="#ddd" />
<meta
  name="theme-color"
  content="#ffffff" />






















  <base href="https://mikegalinski.com/blog/post-3/" />







  


<title>Basic Resource Management in a Custom Game Engine</title>















  <meta
    name="keywords"
    content="Game Production, Game Programming" />




<meta
  name="description"
  content="Mike Galinski Gamedev Blog" />



  <meta name="author" content="Mike Galinski" />






  






  







  

  
  
  


  
  
    
    
      
    

    


    
    


    
    
      
      
      
        <meta property="og:image" content="https://mikegalinski.com/images/posts/post-3/post-3.png" />
        <meta name="twitter:image" content="https://mikegalinski.com/images/posts/post-3/post-3.png" />
        <meta
          name="twitter:card"
          content="summary_large_image" />
      
      
      <meta property="og:image:width" content="1096" />
      <meta property="og:image:height" content="480" />
    


    
    <meta
      property="og:image:type"
      content="image/.png" />
  


  





<meta property="og:title" content="Basic Resource Management in a Custom Game Engine" />
<meta property="og:description" content="Mike Galinski Gamedev Blog" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://mikegalinski.com/blog/post-3/" />


<meta name="twitter:title" content="Basic Resource Management in a Custom Game Engine" />
<meta name="twitter:description" content="Mike Galinski Gamedev Blog" />





















<script>
  let indexURL = "https://mikegalinski.com/searchindex.json";
  let includeSectionsInSearch = ["blog"];
  let search_no_results = "No results for";
  let search_initial_message = "Type something to search..";
</script>























    
    
<meta http-equiv="x-dns-prefetch-control" content="on" />
<link rel="preconnect" href="https://use.fontawesome.com" crossorigin />
<link rel="preconnect" href="//cdnjs.cloudflare.com" />
<link rel="preconnect" href="//www.googletagmanager.com" />
<link rel="preconnect" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="https://use.fontawesome.com" />
<link rel="dns-prefetch" href="//ajax.googleapis.com" />
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com" />
<link rel="dns-prefetch" href="//www.googletagmanager.com" />
<link rel="dns-prefetch" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//connect.facebook.net" />
<link rel="dns-prefetch" href="//platform.linkedin.com" />
<link rel="dns-prefetch" href="//platform.twitter.com" />




<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script>
  (function () {
    const googleFont = document.createElement("link");
    googleFont.href = "https://fonts.googleapis.com/css2?family=Heebo:wght@400;600&family=Signika:wght@500;700&display=swap";
    googleFont.type = "text/css";
    googleFont.rel = "stylesheet";
    document.head.appendChild(googleFont);
  })();
</script>





  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  











  
  



<link
  href="/css/style.min.d15a64ae314ea11048b75ea95f3fb95eee9f9ad745944dbb67f0a83ccb674ea8.css"
  integrity="sha256-0VpkrjFOoRBIt16pXz+5Xu6fmtdFlE27Z/CoPMtnTqg="
  rel="stylesheet" />


<link
  defer
  async
  rel="stylesheet"
  href="/css/style-lazy.min.5d85e889fd5f5b28f9387aeade847fcb0a66d76a99a985ab4cdae3d37cf21557.css"
  integrity="sha256-XYXoif1fWyj5OHrq3oR/ywpm12qZqYWrTNrj03zyFVc="
  media="print"
  onload="this.media='all'; this.onload=null;" />


  </head>

  <body>
    
    
      



      

    


    
    





    
    <header
  class="header sticky top-0 z-30">
  <nav class="navbar container">
    
    <div class="order-0">
      
      <a class="navbar-brand block" href="/">
        















  









  
  
  


  
  
    
    
  


  
  
    
    
    
    
    
    
    
  
  

  
  
    
    
      
      


      
      
        
        
        
        

        
        
        
      
      
    
  
  

  
    <img
      fetchpriority="high"
      decoding="async"
      class="img logo-light"
      width="200"
      height="40"
      src="/images/logo_hu47d470a90ebcf0aeec12affd6190ba4f_3803_400x0_resize_q80_h2_lanczos_3.webp"
      alt="Mike Galinski"
      onerror="this.onerror=null;this.src='\/images\/logo_hu47d470a90ebcf0aeec12affd6190ba4f_3803_400x0_resize_lanczos_3.png';" />

    <img
      fetchpriority="high"
      decoding="async"
      class="img logo-dark"
      width="200"
      height="40"
      src="/images/logo-darkmode_hu9e27d6ba1579aba164abf7d66b3d8a0c_3430_400x0_resize_q80_h2_lanczos_3.webp"
      alt="Mike Galinski"
      onerror="this.onerror=null;this.src='\/images\/logo-darkmode_hu9e27d6ba1579aba164abf7d66b3d8a0c_3430_400x0_resize_lanczos_3.png';" />
  
  


      </a>
    </div>
    
    <input id="nav-toggle" type="checkbox" class="hidden" />
    <label
      for="nav-toggle"
      class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1">
      <svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20">
        <title>Menu Open</title>
        <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
      </svg>
      <svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20">
        <title>Menu Close</title>
        <polygon
          points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
          transform="rotate(45 10 10)"></polygon>
      </svg>
    </label>
    

    
    <ul
      id="nav-menu"
      class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8">
      
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/"
              >Home</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item nav-dropdown group relative">
            <span
              class="nav-link 
                
                
                
              
                
                
                
              
                
                
                
              
                
                
                
               inline-flex items-center">
              Blog
              <svg class="h-4 w-4 fill-current" viewBox="0 0 20 20">
                <path
                  d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
              </svg>
            </span>
            <ul
              class="nav-dropdown-list lg:group-hover:visible lg:group-hover:opacity-100">
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/blog/">
                    All Posts
                  </a>
                </li>
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/categories/game-production/">
                    Game Production
                  </a>
                </li>
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/categories/game-programming/">
                    Game Programming
                  </a>
                </li>
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/">
                    Offtopic
                  </a>
                </li>
              
            </ul>
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/portfolio/"
              >My Projects</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/about/"
              >About Me</a
            >
          </li>
        
      
      
        <li class="mt-4 inline-block lg:hidden">
          <a
            class="btn btn-outline-primary btn-sm"
            href="/contact">
            get in touch   ✉
          </a>
        </li>
      
    </ul>

    <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0">
      
        
          <button
            aria-label="search"
            
            class="border-border text-dark hover:text-primary dark:border-darkmode-border mr-5 inline-block border-r pr-5 text-xl dark:text-white dark:hover:text-darkmode-primary"
            
            data-target="search-modal">
            <i class="fa-solid fa-search"></i>
          </button>
        
      

      









      





      
      
        <a
          href="/contact"
          class="btn btn-outline-primary btn-sm hidden lg:inline-block">
          get in touch   ✉
        </a>
      
    </div>
  </nav>
</header>

    




  
    <div
      class="search-modal "
      aria-hidden="true"
      style="--color-primary: #121212">
      <div data-target="close-search-modal" class="search-modal-overlay"></div>
      <div
        class="search-wrapper"
        data-image="true"
        data-description="true"
        data-tags="true"
        data-categories="true">
        <div class="search-wrapper-header">
          <label for="search-modal-input" style="margin-top:-1px">
            <span class="sr-only">search icon</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              height="18"
              width="18"
              class="search-icon"
              data-type="search">
              <path
                fill="currentColor"
                d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              height="18"
              width="18"
              class="search-reset"
              data-type="reset">
              <path
                fill="currentColor"
                d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z" />
            </svg>
          </label>
          <input
            id="search-modal-input"
            type="text"
            data-search-input
            autocomplete="off"
            aria-label="Search"
            placeholder="Search Post..." />
        </div>
        <div class="search-wrapper-body">
          <div class="search-result" data-search-result></div>
          <span class="search-result-empty">
            Type something to search..
          </span>
        </div>
        <div class="search-wrapper-footer">
          <span>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                viewBox="0 0 16 16">
                <path
                  d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z" />
              </svg>
            </kbd>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                style="margin-top:1px;"
                viewBox="0 0 16 16">
                <path
                  d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z" />
              </svg>
            </kbd>
            to navigate
          </span>
          <span>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="12"
                height="12"
                fill="currentColor"
                style="display:inline-block;"
                viewBox="0 0 16 16">
                <path
                  fill-rule="evenodd"
                  d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z" />
              </svg>
            </kbd>
            to select
          </span>
          <span class="search-result-info"></span>
          <span data-target="close-search-modal">
            <kbd>ESC</kbd> to close
          </span>
        </div>
      </div>
    </div>
  




    <main>
      

<style>
.justify-text {
            text-align: justify;
        }
</style>

  <section class="section pt-7">
    <div class="container">
      <div class="row justify-center">
        <article class="lg:col-12">
          
          
            <div class="mb-10">
              




























  





  

  
  
    
      
    


    
    


    
    
      
      
    
    
    


    
    
      
      
        

        
        
        
        
        
        
        


        
        


        <picture>
          <source
            
              srcset="/images/posts/post-3/post-3_hu51d91b9ede2bc88ceb061018dfee1142_381156_545x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 575px)" />
          <source
            
              srcset="/images/posts/post-3/post-3_hu51d91b9ede2bc88ceb061018dfee1142_381156_600x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 767px)" />
          <source
            
              srcset="/images/posts/post-3/post-3_hu51d91b9ede2bc88ceb061018dfee1142_381156_700x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 991px)" />
          <source
            
              srcset="/images/posts/post-3/post-3_hu51d91b9ede2bc88ceb061018dfee1142_381156_1110x0_resize_q80_h2_lanczos_3.webp"
             />
          <img
            
              loading="lazy" decoding="async"
              src="/images/posts/post-3/post-3_hu51d91b9ede2bc88ceb061018dfee1142_381156_1110x0_resize_lanczos_3.png"
            class=" w-full rounded img"
            alt="Basic Resource Management in a Custom Game Engine"
            width="1096"
            height="480" />
        </picture>
      
      
    
    
  


  


            </div>
          
          <h1 class="h2 mb-4">
            Basic Resource Management in a Custom Game Engine
          </h1>
          <ul class="mb-4">
            <li class="mr-4 inline-block">
              <a
                href="/authors/mike-galinski/">
                <i class="fa-regular fa-circle-user mr-2"></i
                >Mike Galinski
              </a>
            </li>
            
            
              <li class="mr-4 inline-block">
                <i class="fa-regular fa-folder mr-2"></i>
                
                  <a
                    href="/categories/game-programming/"
                    class=""
                    >Game programming
                  </a>
                
              </li>
            
            <li class="mr-4 inline-block">
              <i class="fa-regular fa-clock mr-2"></i>
              October 4, 2024
            </li>
          </ul>
          <div class="content mb-10 justify-text">
		  <aside id="toc">
			

 
  

<details open class="table-of-content blog">
  <summary>
    
      Table of Contents
    
  </summary>
  <nav id="TableOfContents">
  <ol>
    <li><a href="#background">Background</a></li>
    <li><a href="#why-basic-resource-management-is-important">Why Basic Resource Management Is Important</a></li>
    <li><a href="#implementation">Implementation</a></li>
    <li><a href="#summary">Summary</a></li>
    <li><a href="#what-you-need-to-be-aware-of">What You Need to Be Aware of</a></li>
    <li><a href="#sources--additional-materials">Sources &amp; Additional Materials</a></li>
  </ol>
</nav>
</details>

			</aside>
			
			<script>
  document.addEventListener("DOMContentLoaded", function() {
    function isEmpty(element) {
      return !element.textContent.trim();
    }

    function moveChildrenUp(parent) {
      
      while (parent.firstChild) {
        var child = parent.firstChild;
        
        if (child.tagName === 'LI') {
          child.classList.add('child-indent');
        }
        parent.parentElement.insertBefore(child, parent);
      }
      
      parent.style.display = 'none';
    }

    function processToc(tocElement) {
      
      var tocItems = tocElement.querySelectorAll("li");

      tocItems.forEach(function(item) {
        
        var link = item.querySelector("a");
        if (link) {
          var targetId = link.getAttribute("href").substring(1);
          var targetElement = document.getElementById(targetId);

          if (targetElement && isEmpty(targetElement)) {
            moveChildrenUp(item);
          }
        }
      });

      
      var remainingTocItems = tocElement.querySelectorAll("li");
      remainingTocItems.forEach(function(item) {
        
        var childItems = item.querySelectorAll("li");
        if (childItems.length > 0) {
          childItems.forEach(function(child) {
            var childLink = child.querySelector("a");
            if (childLink) {
              var childTargetId = childLink.getAttribute("href").substring(1);
              var childTargetElement = document.getElementById(childTargetId);
              if (childTargetElement && isEmpty(childTargetElement)) {
                moveChildrenUp(child);
              }
            }
          });
        }
      });
    }

    var tocElement = document.getElementById("toc");
    if (tocElement) {
      processToc(tocElement);
    }
  });
</script>
			
            <style>

:target:before {
  content: ''
  display: block;
  height: 100px; /* Adjust offset as needed */
  margin-top: -100px; /* Negative value equal to height */
  visibility: hidden;
}

html {
  scroll-behavior: smooth; /* Enable smooth scrolling behavior */
}

</style>
<p>Resource management in game engines is a wide term. It ranges from handling freshly exported assets to managing assets loaded into memory, in a specific form for particular engine modules. In this article I describe the most basic form of <strong>runtime resource management</strong> – based on sharing a resource loaded only once into memory.</p>
<h2 id="background">Background</h2>
<p>I present this topic in the context of a <a href="/portfolio/guiding-light/"><strong>simple game engine I coworked on</strong></a>, written in <strong>4 months</strong>, in modern C++ and DirectX 11 for courses conducted by <a href="https://p.lodz.pl/en">Lodz University of Technology</a>. In this post I want to guide <strong>students and beginners in engine programming</strong> trying to create their first game engine, drawing from my experience with this project.</p>
<h2 id="why-basic-resource-management-is-important">Why Basic Resource Management Is Important</h2>
<p><strong>It&rsquo;s the memory cost, CPU efficiency, and loading times</strong>. Let&rsquo;s recall your first graphics programming project. Maybe it was a graphics programming course at your university or you were just playing with <a href="https://learnopengl.com">learnopengl.com</a>, or something else. <strong>Did you pay much attention to how often are the assets loaded?</strong></p>
<p>Let&rsquo;s investigate a scene having <strong>20 identical models (with multiple meshes)</strong> and <strong>20 identical textures</strong> of the &ldquo;level completed&rdquo; panel. <strong>How many times are these assets loaded?</strong></p>
<center>





















  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid "
            width="711"
            height="400"
            src="/images/posts/post-3/case_hubd87f6e866213ecbad592fd756a27da6_489094_711x400_resize_q100_h2_lanczos_3.webp"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/posts\/post-3\/case_hubd87f6e866213ecbad592fd756a27da6_489094_711x400_resize_q100_lanczos_3.png'" />
      
    

  
  






  <script>
    window.addEventListener("load", (e) => {
      const lightbox = GLightbox();
    });
  </script>


</center>



  



<div class="notice info">
  <div class="notice-head"><svg
        width="20"
        height="20"
        viewBox="0 0 18 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M9.16109 0.993016C9.97971 1.03952 10.6611 1.42989 11.0721 2.22339L17.7981 15.8014C18.4502 17.1739 17.4403 19.0208 15.7832 19.0474H2.23859C0.730337 19.0234 -0.507163 17.3108 0.231587 15.7864L7.08321 2.20877C7.21146 1.96502 7.26996 1.89452 7.38059 1.76664C7.82534 1.25102 8.31171 0.975016 9.16109 0.993016ZM9.05046 2.49189C8.79284 2.50464 8.55696 2.64902 8.42834 2.87327C6.06134 7.36539 3.77946 11.9036 1.56546 16.4734C1.36071 16.9328 1.71209 17.5223 2.22621 17.547C6.74871 17.6201 11.2731 17.6201 15.7956 17.547C16.2925 17.523 16.666 16.953 16.459 16.4783C14.2866 11.9093 12.0471 7.37102 9.72171 2.87814C9.58446 2.63402 9.38309 2.48739 9.05046 2.49189Z"
          fill="currentColor" />
        <path
          d="M9.61323 13.2153H8.35773L8.21973 7.04688H9.75723L9.61323 13.2153ZM8.17773 15.1015C8.17773 14.8731 8.25161 14.6841 8.39973 14.5338C8.54823 14.3838 8.75036 14.3084 9.00648 14.3084C9.26298 14.3084 9.46511 14.3838 9.61323 14.5338C9.76136 14.6841 9.83561 14.8731 9.83561 15.1015C9.83561 15.3216 9.76323 15.5057 9.61923 15.6539C9.47486 15.802 9.27086 15.8762 9.00648 15.8762C8.74211 15.8762 8.53811 15.802 8.39373 15.6539C8.24973 15.5057 8.17773 15.3216 8.17773 15.1015Z"
          fill="currentColor" />
      </svg><p>Info</p>
  </div>
  <div class="notice-body"><p><strong>Without</strong> runtime resource manager, the same model and texture will be loaded into memory <strong>20 times – for each instance</strong>.<br>
<strong>With</strong> runtime resource manager, the same model and texture will be loaded into memory <strong>only once – with the first instance</strong>.</p></div>
</div>

<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">❌ without runtime resource manager</th>
<th style="text-align:center">✅ with runtime resource manager</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>memory cost</strong></td>
<td style="text-align:center">




















  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid "
            width="640"
            height="360"
            src="/images/posts/post-3/no_rm_memory_hub8e2a5824e4de038c519f53f8db8130c_23176_640x360_resize_q100_h2_lanczos_3.webp"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/posts\/post-3\/no_rm_memory_hub8e2a5824e4de038c519f53f8db8130c_23176_640x360_resize_q100_lanczos_3.png'" />
      
    

  
  






<br>1.6 GB</td>
<td style="text-align:center">




















  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid "
            width="640"
            height="360"
            src="/images/posts/post-3/rm_memory_hu848d484aaa2ce7eb459f8b4c893c28c8_18763_640x360_resize_q100_h2_lanczos_3.webp"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/posts\/post-3\/rm_memory_hu848d484aaa2ce7eb459f8b4c893c28c8_18763_640x360_resize_q100_lanczos_3.png'" />
      
    

  
  






<br>678 MB</td>
</tr>
<tr>
<td style="text-align:center"><strong>peak CPU %<br>while loading</strong></td>
<td style="text-align:center">




















  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid "
            width="640"
            height="360"
            src="/images/posts/post-3/no_rm_percent_hub8c90133388229b6dbbe09c64527b3bf_27433_640x360_resize_q100_h2_lanczos_3.webp"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/posts\/post-3\/no_rm_percent_hub8c90133388229b6dbbe09c64527b3bf_27433_640x360_resize_q100_lanczos_3.png'" />
      
    

  
  






<br>21%</td>
<td style="text-align:center">




















  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid "
            width="640"
            height="360"
            src="/images/posts/post-3/rm_percent_hu85eeeb1c6f087cb36f37b46e5e61be94_19478_640x360_resize_q100_h2_lanczos_3.webp"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/posts\/post-3\/rm_percent_hu85eeeb1c6f087cb36f37b46e5e61be94_19478_640x360_resize_q100_lanczos_3.png'" />
      
    

  
  






<br>14%</td>
</tr>
<tr>
<td style="text-align:center"><strong>load time</strong></td>
<td style="text-align:center">2.280 s</td>
<td style="text-align:center">0.645 s</td>
</tr>
</tbody>
</table>
<p>This is <strong>one of the first thing you should pay attention to</strong> when transistioning your project from a small graphics programming application to a simple framework/engine. Such improvement is easy to implement and it will be <strong>good enough</strong> in terms of optimizing memory and CPU efficiency in your first game engine.</p>
<h2 id="implementation">Implementation</h2>
<p>Firstly, let&rsquo;s create a <code>ResourceManager</code> class and make it a Meyers&rsquo; Singleton. It&rsquo;s not the devil here. Singletons are often used in game engines, and having a global access to this only instance is really helpful. You also probably don&rsquo;t bother about thread-safety in you first, single-threaded, game engine.</p>
<p>In our case, we list the following types of resources: <strong>shaders, textures, and meshes</strong>.</p>



  



<div class="notice note">
  <div class="notice-head"><svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10 9V14M10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10C19 14.9706 14.9706 19 10 19ZM10.0498 6V6.1L9.9502 6.1002V6H10.0498Z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"></path>
      </svg><p>Note</p>
  </div>
  <div class="notice-body"><p>– What about sounds?<br>
– They are handled differently via <a href="https://miniaud.io">miniaudio</a> library which takes care of reference counting.</p></div>
</div>

<p>Let&rsquo;s declare methods for loading our resources. We&rsquo;re trying to make sort of a unified interface here, but you will see how those loader methods reference other subsystems and delegate loading resources to particular factory methods in different modules.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// ResourceManager.h:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;</span> load_texture(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> path, TextureType <span style="color:#66d9ef">const</span> type, TextureSettings <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> settings <span style="color:#f92672">=</span> {});
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;</span> load_cubemap(std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> paths, TextureType <span style="color:#66d9ef">const</span> type,
</span></span><span style="display:flex;"><span>                                      TextureSettings <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> settings <span style="color:#f92672">=</span> {});
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;</span> load_cubemap(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> path, TextureType <span style="color:#66d9ef">const</span> type, TextureSettings <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> settings <span style="color:#f92672">=</span> {});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Shader<span style="color:#f92672">&gt;</span> load_shader(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> compute_path);
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Shader<span style="color:#f92672">&gt;</span> load_shader(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> vertex_path, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> pixel_path);
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Shader<span style="color:#f92672">&gt;</span> load_shader(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> vertex_path, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> pixel_path, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> geometry_path);
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Shader<span style="color:#f92672">&gt;</span> load_shader(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> vertex_path, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> tessellation_control_path,
</span></span><span style="display:flex;"><span>                                    std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> tessellation_evaluation_path, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> pixel_path);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Mesh<span style="color:#f92672">&gt;</span> load_mesh(u32 <span style="color:#66d9ef">const</span> array_id, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> name, std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>Vertex<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> vertices,
</span></span><span style="display:flex;"><span>                                std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>u32<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> indices, std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> textures,
</span></span><span style="display:flex;"><span>                                DrawType <span style="color:#66d9ef">const</span> draw_type, std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Material<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> material,
</span></span><span style="display:flex;"><span>                                DrawFunctionType <span style="color:#66d9ef">const</span> draw_function <span style="color:#f92672">=</span> DrawFunctionType<span style="color:#f92672">::</span>Indexed);
</span></span></code></pre></div><p>Each of these methods is responsible for loading a resource. As you can see e.g. <code>load_shader()</code> methods are overloaded, as different shaders can be loaded. Next, let&rsquo;s declare vectors that store our resources:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;&gt;</span> m_textures <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Mesh<span style="color:#f92672">&gt;&gt;</span> m_meshes <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Shader<span style="color:#f92672">&gt;&gt;</span> m_shaders <span style="color:#f92672">=</span> {};
</span></span></code></pre></div>


  



<div class="notice info – generating keys">
  <div class="notice-head"><svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10 9V14M10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10C19 14.9706 14.9706 19 10 19ZM10.0498 6V6.1L9.9502 6.1002V6H10.0498Z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"></path>
      </svg><p>Info – Generating Keys</p>
  </div>
  <div class="notice-body"><p>To load resources only once we need to keep track of what has already been loaded, and return a pointer to a resource instead of loading it again. We track it by <strong>generating a unique key for each resource</strong>. This &ldquo;key&rdquo; is a string in the following <code>std::unordered_map</code>. <strong>The key is tied to an index of the resource in its respective vector</strong> and it uniquely <strong>identifies where the asset comes from</strong>. We need to distinguish that <strong>a model loaded from a file <em>&ldquo;model1.gltf&rdquo;</em>  is different from a model loaded from <em>&ldquo;model2.gltf&rdquo;</em></strong>, and that <strong>when we load <em>&ldquo;model1.gltf&rdquo;</em> again, it&rsquo;s the same file that was loaded earlier</strong>, so we need to <strong>reference what&rsquo;s already loaded</strong> instead of loading it again. The key is <strong>a bridge between an asset on disk and it&rsquo;s different form in memory</strong>.</p></div>
</div>

<p>Here are the unordered maps storing <strong>keys</strong> and <strong>IDs</strong> in the respective <code>m_textures</code>/<code>m_meshes</code>/<code>m_shaders</code> vectors.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>unordered_map<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string, u16<span style="color:#f92672">&gt;</span> names_to_textures <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>unordered_map<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string, u16<span style="color:#f92672">&gt;</span> names_to_meshes <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>unordered_map<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string, u16<span style="color:#f92672">&gt;</span> names_to_shaders <span style="color:#f92672">=</span> {};
</span></span></code></pre></div><p><code>std::unordered_map</code> here is perfect, because generating keys for a resource manager is convenient when using strings, and <code>std::unordered_map</code> hashes the strings. It&rsquo;s good to remember for the future that comparing hashed strings is <strong>much faster</strong> than actual strings!</p>
<p>Let&rsquo;s also declare a simple method that just converts a stringstream to string, this is for convenience, and this is, in fact, generating a string key:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#a6e22e">[[nodiscard]]</span> std<span style="color:#f92672">::</span>string generate_key(std<span style="color:#f92672">::</span>stringstream <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> stream) <span style="color:#66d9ef">const</span>;
</span></span></code></pre></div><p>&hellip;and a method for retrieving an element from a vector. <strong>This is a template method</strong> <em>(compile time goes brrr!)</em>  but in this simple case it could be just three similar methods for each type of resource. It might look a bit ugly for you, but handling it like that is not necessarily bad. The resources are vastly different, and the more types of them you have, the harder it gets to prepare a unified approach. The nature of a resource manager itself often results in methods like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> get_from_vector(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> key)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    i32 id <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">constexpr</span> (std<span style="color:#f92672">::</span>is_same_v<span style="color:#f92672">&lt;</span>T, Texture<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> <span style="color:#66d9ef">const</span> it <span style="color:#f92672">=</span> names_to_textures.find(key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (it <span style="color:#f92672">!=</span> names_to_textures.end())
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            id <span style="color:#f92672">=</span> it<span style="color:#f92672">-&gt;</span>second;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> m_textures[id];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">constexpr</span> (std<span style="color:#f92672">::</span>is_same_v<span style="color:#f92672">&lt;</span>T, Mesh<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> <span style="color:#66d9ef">const</span> it <span style="color:#f92672">=</span> names_to_meshes.find(key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (it <span style="color:#f92672">!=</span> names_to_meshes.end())
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            id <span style="color:#f92672">=</span> it<span style="color:#f92672">-&gt;</span>second;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> m_meshes[id];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">constexpr</span> (std<span style="color:#f92672">::</span>is_same_v<span style="color:#f92672">&lt;</span>T, Shader<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> <span style="color:#66d9ef">const</span> it <span style="color:#f92672">=</span> names_to_shaders.find(key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (it <span style="color:#f92672">!=</span> names_to_shaders.end())
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            id <span style="color:#f92672">=</span> it<span style="color:#f92672">-&gt;</span>second;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> m_shaders[id];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nullptr</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>It could be automated with some autogenerated code (we have an <em>&ldquo;Engine Header Tool&rdquo;</em>  in our project used for e.g. generating (de)serialization code for components). Have a better idea for implementing it? <strong>Post it in a comment below!</strong></p>
<p>The above function, firstly, <strong>checks which type of resource are we dealing with</strong> (e.g. <code>if constexpr (std::is_same_v&lt;T, Texture&gt;)</code> is true if the given type is <code>Texture</code>) – this decides in which unordered map are we going to look for the key, and in which vector – for the resource. Then we&rsquo;re using <code>std::unordered_map::find()</code> to find the <strong>key</strong> in our unordered map. If this key is found, we <strong>return the ID of the resource</strong> paired with the key. <strong>If not, we return <code>nullptr</code>.</strong></p>
<hr>
<p>We&rsquo;re lacking the last peace of the puzzle. <strong>How do the loading methods work?</strong> And maybe at this point the idea of &ldquo;keys&rdquo; representing assets is still murky? Let me clarify:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// ResourceManager.cpp:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Shader<span style="color:#f92672">&gt;</span> ResourceManager<span style="color:#f92672">::</span>load_shader(std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> vertex_path, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> pixel_path)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>stringstream stream;
</span></span><span style="display:flex;"><span>    stream <span style="color:#f92672">&lt;&lt;</span> vertex_path <span style="color:#f92672">&lt;&lt;</span> pixel_path;
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> key <span style="color:#f92672">=</span> generate_key(stream);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">auto</span> resource_ptr <span style="color:#f92672">=</span> get_from_vector<span style="color:#f92672">&lt;</span>Shader<span style="color:#f92672">&gt;</span>(key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (resource_ptr <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nullptr</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> resource_ptr;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    resource_ptr <span style="color:#f92672">=</span> ShaderFactory<span style="color:#f92672">::</span>create(vertex_path, pixel_path);
</span></span><span style="display:flex;"><span>    m_shaders.emplace_back(resource_ptr);
</span></span><span style="display:flex;"><span>    names_to_shaders.insert(std<span style="color:#f92672">::</span>make_pair(key, m_shaders.size() <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> resource_ptr;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This is a <code>load_shader()</code> function for shader programs in which we specify just a vertex shader and a pixel (fragment) shader. Again, <strong>shader file A is different from shader file B</strong>. So we <strong>generate a key</strong> of this shader asset <strong>from the paths of vertex and pixel shader</strong>!</p>
<p>We declare a stringstream and fill it with <code>vertex_path</code> and <code>pixel_path</code>. Then we use <code>generate_key()</code> method that will convert the stringstream to string and return it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>string ResourceManager<span style="color:#f92672">::</span>generate_key(std<span style="color:#f92672">::</span>stringstream <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> stream) <span style="color:#66d9ef">const</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> stream.str();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Then, in <code>load_shader()</code>, we obtain a resource from the respective vector (<code>auto resource_ptr = get_from_vector&lt;Shader&gt;(key);</code>) We tell what type of resource it is as a template parameter. And we will have either a proper resource (so we can return it and save memory, yay!) or we have a <code>nullptr</code> if nothing was found in the vector.</p>
<p>Look again what happens when no resource was found:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// (...)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>resource_ptr <span style="color:#f92672">=</span> ShaderFactory<span style="color:#f92672">::</span>create(vertex_path, pixel_path);
</span></span><span style="display:flex;"><span>m_shaders.emplace_back(resource_ptr);
</span></span><span style="display:flex;"><span>names_to_shaders.insert(std<span style="color:#f92672">::</span>make_pair(key, m_shaders.size() <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> resource_ptr;
</span></span></code></pre></div><p><strong>When resource was not found in the vector, it needs to be loaded</strong>. And it might vary from resource to resource. Here we <strong>call a factory method</strong> that will <strong>load</strong> and create a valid shader program, <strong><code>emplace_back()</code> it into the vector</strong>, and <strong><code>insert()</code> a key-ID pair into the unordered map</strong>. From now on, the same resource (with this key) will no longer be loaded again, resource manager will just return already loaded asset from the vector. <code>ShaderFactory::create()</code> can be replaced with your method that&rsquo;s used for loading and compiling shaders, of course.</p>
<p>Let&rsquo;s see another example. Meshes can be either parts of some models (loaded using libraries such as <a href="https://github.com/syoyo/tinygltf">tinygltf</a> or <a href="https://github.com/assimp/assimp">Assimp</a>) or they can be generated from code (e.g. cubes and spheres). How to properly distinguish meshes to load them <strong>only</strong> when needed?</p>
<p>Here&rsquo;s the trick: we used <strong>a mesh ID within the model</strong>, and <strong>paths to all textures</strong> in addition to <strong>a model name</strong> to generate a key.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Mesh<span style="color:#f92672">&gt;</span> ResourceManager<span style="color:#f92672">::</span>load_mesh(u32 <span style="color:#66d9ef">const</span> array_id, std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> model_name, std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>Vertex<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> vertices,
</span></span><span style="display:flex;"><span>                                                 std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>u32<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> indices, std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> textures,
</span></span><span style="display:flex;"><span>                                                 DrawType <span style="color:#66d9ef">const</span> draw_type, std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Material<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> material,
</span></span><span style="display:flex;"><span>                                                 DrawFunctionType <span style="color:#66d9ef">const</span> draw_function)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>stringstream stream;
</span></span><span style="display:flex;"><span>    stream <span style="color:#f92672">&lt;&lt;</span> model_name <span style="color:#f92672">&lt;&lt;</span> array_id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> texture : textures)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        stream <span style="color:#f92672">&lt;&lt;</span> texture<span style="color:#f92672">-&gt;</span>path;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>string <span style="color:#66d9ef">const</span><span style="color:#f92672">&amp;</span> key <span style="color:#f92672">=</span> generate_key(stream);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">auto</span> resource_ptr <span style="color:#f92672">=</span> get_from_vector<span style="color:#f92672">&lt;</span>Mesh<span style="color:#f92672">&gt;</span>(key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (resource_ptr <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nullptr</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> resource_ptr;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    resource_ptr <span style="color:#f92672">=</span> MeshFactory<span style="color:#f92672">::</span>create(vertices, indices, textures, draw_type, material, draw_function);
</span></span><span style="display:flex;"><span>    m_meshes.emplace_back(resource_ptr);
</span></span><span style="display:flex;"><span>    names_to_meshes.insert(std<span style="color:#f92672">::</span>make_pair(key, m_meshes.size() <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> resource_ptr;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Processing all meshes within one model, in a <code>Model</code> class, looks like this now:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// Model.cpp:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> Model<span style="color:#f92672">::</span>proccess_node(aiNode <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span> node, aiScene <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span> scene)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (u32 i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> node<span style="color:#f92672">-&gt;</span>mNumMeshes; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        aiMesh <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span> mesh <span style="color:#f92672">=</span> scene<span style="color:#f92672">-&gt;</span>mMeshes[node<span style="color:#f92672">-&gt;</span>mMeshes[i]];
</span></span><span style="display:flex;"><span>        m_meshes.emplace_back(proccess_mesh(mesh, scene));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// (...)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Mesh<span style="color:#f92672">&gt;</span> Model<span style="color:#f92672">::</span>proccess_mesh(aiMesh <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span> mesh, aiScene <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span> scene)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// (...)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// m_meshes is being filled, so m_meshes.size() gets incremented and it&#39;s unique each iteration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> ResourceManager<span style="color:#f92672">::</span>get_instance().load_mesh(m_meshes.size(), model_path, vertices,
</span></span><span style="display:flex;"><span>                                                    indices, textures, m_draw_type, material); <span style="color:#75715e">// array_id for generating key is an index in m_meshes 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>Passing a size of <code>m_meshes</code> to <code>ResourceManager</code> when filling <code>m_meshes</code> to generate a key is smart and easy! But what if a mesh is generated, e.g. it&rsquo;s a simple code-generated cube or a quad? Take a look:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// &#34;Button&#34;, a class that needs to create a mesh from code. Button.cpp:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Mesh<span style="color:#f92672">&gt;</span> Button<span style="color:#f92672">::</span>create_sprite() <span style="color:#66d9ef">const</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>Vertex<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span> vertices <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        {glm<span style="color:#f92672">::</span>vec3(<span style="color:#f92672">-</span><span style="color:#ae81ff">1.0f</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">0.0f</span>), {}, {<span style="color:#ae81ff">0.0f</span>, <span style="color:#ae81ff">0.0f</span>}}, <span style="color:#75715e">// bottom left
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {glm<span style="color:#f92672">::</span>vec3(<span style="color:#ae81ff">1.0f</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">0.0f</span>), {}, {<span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">0.0f</span>}}, <span style="color:#75715e">// bottom right
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {glm<span style="color:#f92672">::</span>vec3(<span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">0.0f</span>), {}, {<span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">1.0f</span>}}, <span style="color:#75715e">// top right
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {glm<span style="color:#f92672">::</span>vec3(<span style="color:#f92672">-</span><span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">0.0f</span>), {}, {<span style="color:#ae81ff">0.0f</span>, <span style="color:#ae81ff">1.0f</span>}}, <span style="color:#75715e">// top left
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>u32<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">const</span> indices <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;&gt;</span> textures;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>shared_ptr<span style="color:#f92672">&lt;</span>Texture<span style="color:#f92672">&gt;&gt;</span> diffuse_maps <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>    TextureSettings texture_settings <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>    texture_settings.wrap_mode_x <span style="color:#f92672">=</span> TextureWrapMode<span style="color:#f92672">::</span>ClampToEdge;
</span></span><span style="display:flex;"><span>    texture_settings.wrap_mode_y <span style="color:#f92672">=</span> TextureWrapMode<span style="color:#f92672">::</span>ClampToEdge;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>m_texture_path.empty())
</span></span><span style="display:flex;"><span>        diffuse_maps.emplace_back(ResourceManager<span style="color:#f92672">::</span>get_instance().load_texture(m_texture_path, TextureType<span style="color:#f92672">::</span>Diffuse, texture_settings));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    textures.insert(textures.end(), diffuse_maps.begin(), diffuse_maps.end());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ResourceManager<span style="color:#f92672">::</span>get_instance().load_mesh(<span style="color:#ae81ff">0</span>, m_texture_path, vertices, indices, textures, DrawType<span style="color:#f92672">::</span>Triangles, material);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>You can see two usages of <code>ResourceManager</code> here. The first one is for a texture, and the second one is for handling a code-generated quad. In this case, <strong>we only need info about the texture for the quad to uniquely identify it</strong>. So we simply pass &ldquo;0&rdquo; as an <code>array_id</code>, because there&rsquo;s no mesh array in <code>Button</code> class, it&rsquo;s just one mesh with four vertices declared by hand.</p>
<p>In more complex cases you might need to come up with more sophisticated ways of generating keys to identify the assets.</p>
<h2 id="summary">Summary</h2>
<p>That&rsquo;s it! I hope now you can be happy with your saved memory, smaller CPU usage, and shorter loading times. 😄 Even if the performance of your engine was improved just by a little, this was <strong>an important step in building a sensible engine architecture.</strong> And <strong>you will thank yourself for writing runtime resource manager</strong> when you will approach programming systems that <strong>load plenty of entities</strong>, such as <strong>particle systems</strong>. Here&rsquo;s a recap of the post:</p>



  



<div class="notice tip summary">
  <div class="notice-head"><svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10 9V14M10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10C19 14.9706 14.9706 19 10 19ZM10.0498 6V6.1L9.9502 6.1002V6H10.0498Z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"></path>
      </svg><p>Tip Summary</p>
  </div>
  <div class="notice-body"><p><p>How basic runtime resource manager works when you request (load) a resource:</p>
<ul>
<li><strong>it generates a key</strong> (each loading function may have slightly different implementation).</li>
<li><strong>calls a template method <code>get_from_vector()</code></strong> specifying desired resource type and providing the key. It will return either <code>nullptr</code> or a valid resource.
<ul>
<li>if a <strong>valid resource</strong> is returned by <code>get_from_vector()</code>, <strong>you&rsquo;ve got your resource</strong>!</li>
<li>if a <code>nullptr</code> is returned by <code>get_from_vector()</code>, a custom loading function (e.g. from a <code>ShaderLoader</code>) is called and the <strong>returned value is added to a vector</strong>. A <strong>key and ID</strong> pair is added to an unordered map. The freshly loaded resource is returned.</li>
</ul>
</li>
</ul></p></div>
</div>

<h2 id="what-you-need-to-be-aware-of">What You Need to Be Aware of</h2>
<p>Some might say, <em><strong>&ldquo;This code could be written differently!&rdquo;</strong></em>  Yes, probably better too. But as mentioned earlier, this engine was developed in <strong>a single semester</strong> by <strong>4 students</strong>, using the tools and techniques we were familiar with, <strong>primarily modern C++</strong>. Our goal was to create something functional and <strong>beginner-friendly</strong>, working within the constraints of our time and experience. We had just <strong>4 months</strong> to build both the engine and <a href="/portfolio/guiding-light/"><strong>create a game on it</strong></a> with the rest of the team. We know that <strong>engine programming is a vast field</strong> and <strong>our approach might sometimes differ from what you&rsquo;d see in AAA studios</strong>. Nevertheless, this was a solid first step and we’re proud of it. Special thanks to:</p>
<ul>
<li><a href="https://www.linkedin.com/in/mariusz-sielicki/">Mariusz Sielicki</a>, an experienced developer who has guided me and my team through struggles with resource management and broadened my grasp of how vast this topic is.</li>
<li>Activision, for <a href="https://youtu.be/e_SSo7u1r_w?t=17490">appreciating our project and awarding it</a> at ZTGK 2024 Gamedev Contest.</li>
</ul>
<h2 id="sources--additional-materials">Sources &amp; Additional Materials</h2>
<ul>
<li><a href="https://www.amazon.com/Engine-Architecture-Third-Jason-Gregory/dp/1138035459">Game Engine Architecture, 3rd Edition</a> – a Bible of engine programming, serving as a great introductory text. Has a solid chapter on resource management.</li>
<li><a href="https://stackoverflow.com/questions/86582/singleton-how-should-it-be-used/92193#92193">Singleton, How It Should Be Used, a StackOverflow Thread</a></li>
<li><a href="https://stackoverflow.com/questions/86582/singleton-how-should-it-be-used/92193#92193">Orthodox C++ Manifest</a> – this is mostly how AAA graphics &amp; low-level engine modules requiring high performance are done. Worth getting into, but please, <strong>don&rsquo;t attempt to apply this in your first engine, especially an educational project with tight deadlines</strong>.</li>
<li><a href="https://www.dataorienteddesign.com/dodbook/">Data Oriented Design, Online Release</a> – another great source on how (not only) engines and games are structured around data. This is also a AAA professional case.</li>
</ul>

			
          </div>
          <div class="row items-start justify-between">
            
            
              <div class="lg:col-8 mb-10 flex items-center lg:mb-0">
                <h5 class="mr-3">Tags:</h5>
                <ul>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/programming/">
                        Programming
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/core-engine/">
                        Core engine
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/resource-management/">
                        Resource management
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/game-engines/">
                        Game engines
                      </a>
                    </li>
                  
                </ul>
              </div>
            
            <div class="lg:col-4 flex items-center">
              
















<div class="share-icons">
  <h5 class="share-title">Share :</h5>


  
  
    <a
      class="share-link share-facebook"
      href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmikegalinski.com%2fblog%2fpost-3%2f"
      target="_blank"
      rel="noopener"
      aria-label="share facebook">
      <span class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z" />
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-twitter"
      href="https://twitter.com/intent/tweet/?text=Share&amp;url=https%3a%2f%2fmikegalinski.com%2fblog%2fpost-3%2f"
      target="_blank"
      rel="noopener"
      aria-label="share twitter">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path 
            d="M8 2H1l8.26 11.015L1.45 22H4.1l6.388-7.349L16 22h7l-8.608-11.478L21.8 2h-2.65l-5.986 6.886zm9 18L5 4h2l12 16z"/>
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-email"
      href="mailto:?subject=Share&amp;body=https%3a%2f%2fmikegalinski.com%2fblog%2fpost-3%2f"
      target="_self"
      rel="noopener"
      aria-label="share email">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z" />
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-reddit"
      href="https://reddit.com/submit/?url=https%3a%2f%2fmikegalinski.com%2fblog%2fpost-3%2f&amp;resubmit=true&amp;title=Share"
      target="_blank"
      rel="noopener"
      aria-label="share reddit">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z" />
        </svg>
      </span>
    </a>
  


  
  


  
  


  
  


  
  


  
  


  
  
</div>

            </div>
          </div>
		  
		  <script src="https://giscus.app/client.js"
			data-repo="MikeMG-PL/mikemg-pl.github.io"
			data-repo-id="R_kgDOMSCKKg"
			data-category="General"
			data-category-id="DIC_kwDOMSCKKs4ChTUt"
			data-mapping="pathname"
			data-strict="0"
			data-reactions-enabled="1"
			data-emit-metadata="0"
			data-input-position="top"
			data-theme="dark_protanopia"
			data-lang="en"
			crossorigin="anonymous"
			async>
		</script>
          
        </article>
      </div>

      
      
      
      
        <div class="section pb-0">
          <h2 class="h3 mb-12">Related Posts</h2>
          <div class="row">
            
              <div class="lg:col-4 md:col-6 mb-14">
                <div class="bg-body dark:bg-darkmode-body">
  
  
    




























  





  

  
  
    
      
    


    
    


    
    
      
      
    
    
    


    
    
      
      
        

        
        
        
        
        
        
        


        
        


        <picture>
          <source
            
              srcset="/images/posts/post-1/post-1_hu15aada9750093d492186d7bc841149c3_326162_545x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 575px)" />
          <source
            
              srcset="/images/posts/post-1/post-1_hu15aada9750093d492186d7bc841149c3_326162_600x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 767px)" />
          <source
            
              srcset="/images/posts/post-1/post-1_hu15aada9750093d492186d7bc841149c3_326162_700x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 991px)" />
          <source
            
              srcset="/images/posts/post-1/post-1_hu15aada9750093d492186d7bc841149c3_326162_1110x0_resize_q80_h2_lanczos_3.webp"
             />
          <img
            
              loading="lazy" decoding="async"
              src="/images/posts/post-1/post-1_hu15aada9750093d492186d7bc841149c3_326162_1110x0_resize_lanczos_3.png"
            class=" mb-6 w-full rounded img"
            alt="Designing a Seamless Tutorial. Case Study of &#34;Guiding Light&#34;"
            width="1096"
            height="480" />
        </picture>
      
      
    
    
  


  


  
  <h4 class="mb-3">
    <a href="/blog/post-1/">
      Designing a Seamless Tutorial. Case Study of &#34;Guiding Light&#34;
    </a>
  </h4>
  
  
    <ul class="mb-4">
      <li class="mr-4 inline-block">
        <a href="/authors/mike-galinski/">
          <i class="fa-regular fa-circle-user mr-2"></i>Mike Galinski
        </a>
      </li>
      <li class="mr-4 inline-block">
        <i class="fa-regular fa-folder mr-1"></i>
        
          <a
            href="/categories/game-production/"
            class="ms-1"
            >Game production
          </a>
        
      </li>
    </ul>
  
  <p class="mb-6">Games take different approaches to teaching players how to play. Some provide explicit tutorials before the game starts, some offer no guidance, leaving players to figure out the mechanics on their own (or check a wiki), and others teach players seamlessly as they play.</p>
  <a class="btn btn-outline-primary btn-sm" href="/blog/post-1/">
    Read More
  </a>
</div>

              </div>
            
              <div class="lg:col-4 md:col-6 mb-14">
                <div class="bg-body dark:bg-darkmode-body">
  
  
    




























  





  

  
  
    
      
    


    
    


    
    
      
      
    
    
    


    
    
      
      
        

        
        
        
        
        
        
        


        
        


        <picture>
          <source
            
              srcset="/images/posts/post-2/post-2_hua625995cca95f282c1cea8a3710f9a78_582589_545x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 575px)" />
          <source
            
              srcset="/images/posts/post-2/post-2_hua625995cca95f282c1cea8a3710f9a78_582589_600x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 767px)" />
          <source
            
              srcset="/images/posts/post-2/post-2_hua625995cca95f282c1cea8a3710f9a78_582589_700x0_resize_q80_h2_lanczos_3.webp"
            
            media="(max-width: 991px)" />
          <source
            
              srcset="/images/posts/post-2/post-2_hua625995cca95f282c1cea8a3710f9a78_582589_1110x0_resize_q80_h2_lanczos_3.webp"
             />
          <img
            
              loading="lazy" decoding="async"
              src="/images/posts/post-2/post-2_hua625995cca95f282c1cea8a3710f9a78_582589_1110x0_resize_lanczos_3.png"
            class=" mb-6 w-full rounded img"
            alt="Holistic Game Production. How We Made &#34;Heartbreaker&#34;"
            width="1096"
            height="480" />
        </picture>
      
      
    
    
  


  


  
  <h4 class="mb-3">
    <a href="/blog/post-2/">
      Holistic Game Production. How We Made &#34;Heartbreaker&#34;
    </a>
  </h4>
  
  
    <ul class="mb-4">
      <li class="mr-4 inline-block">
        <a href="/authors/mike-galinski/">
          <i class="fa-regular fa-circle-user mr-2"></i>Mike Galinski
        </a>
      </li>
      <li class="mr-4 inline-block">
        <i class="fa-regular fa-folder mr-1"></i>
        
          <a
            href="/categories/game-production/"
            class="ms-1"
            >Game production
          </a>
        
      </li>
    </ul>
  
  <p class="mb-6">&ldquo;Heartbreaker&rdquo; started as a job interview task I built in one weekend. 18 months later, my teammates and I won an award with &ldquo;Heartbreaker&rdquo; during a global gamedev conference, surpassing over a 100 professional indie teams.</p>
  <a class="btn btn-outline-primary btn-sm" href="/blog/post-2/">
    Read More
  </a>
</div>

              </div>
            
          </div>
        </div>
      
    </div>
  </section>
  

    </main>

    
    <footer class="bg-theme-light dark:bg-darkmode-theme-light">
  <div class="container">
    <div class="row items-center py-10">
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:text-left">
        
        <a
          class="navbar-brand inline-block"
          href="/">
          















  









  
  
  


  
  
    
    
  


  
  
    
    
    
    
    
    
    
  
  

  
  
    
    
      
      


      
      
        
        
        
        

        
        
        
      
      
    
  
  

  
    <img
      fetchpriority="high"
      decoding="async"
      class="img logo-light"
      width="200"
      height="40"
      src="/images/logo_hu47d470a90ebcf0aeec12affd6190ba4f_3803_400x0_resize_q80_h2_lanczos_3.webp"
      alt="Mike Galinski"
      onerror="this.onerror=null;this.src='\/images\/logo_hu47d470a90ebcf0aeec12affd6190ba4f_3803_400x0_resize_lanczos_3.png';" />

    <img
      fetchpriority="high"
      decoding="async"
      class="img logo-dark"
      width="200"
      height="40"
      src="/images/logo-darkmode_hu9e27d6ba1579aba164abf7d66b3d8a0c_3430_400x0_resize_q80_h2_lanczos_3.webp"
      alt="Mike Galinski"
      onerror="this.onerror=null;this.src='\/images\/logo-darkmode_hu9e27d6ba1579aba164abf7d66b3d8a0c_3430_400x0_resize_lanczos_3.png';" />
  
  


        </a>
      </div>
      <div class="lg:col-6 mb-8 text-center lg:mb-0">
        <ul>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /blog/
                "
                >Blog</a
              >
            </li>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /portfolio/
                "
                >My Projects</a
              >
            </li>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /about/
                "
                >About Me</a
              >
            </li>
          
        </ul>
      </div>
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:mt-0 lg:text-right">
        <ul class="social-icons">
          
            <li>
              <a
                target="_blank"
                aria-label="linkedin"
                rel="nofollow noopener"
                href="https://www.linkedin.com/in/m-galinski/">
                <i class="fab fa-linkedin"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="facebook"
                rel="nofollow noopener"
                href="https://www.facebook.com/profile.php?id=100005790550842">
                <i class="fab fa-facebook"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="mail"
                rel="nofollow noopener"
                href="/contact">
                <i class="fa fa-envelope"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="github"
                rel="nofollow noopener"
                href="https://github.com/MikeMG-PL">
                <i class="fab fa-github"></i>
              </a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
  <div class="border-border dark:border-darkmode-border border-t py-7">
    <div class="text-light dark:text-darkmode-light container text-center">
      <p>
        © Michał Galiński, <a href="https://zeon.studio">Zeon Studio</a> (Hugoplate HUGO theme)<br><br><strong>Disclaimer:</strong> The opinions expressed on this blog are solely my own and do not reflect any views or official statements of companies I have been working for. Any commercial work showcased here is presented to demonstrate my skills and contributions, with proper credit given to all parties involved. I adhere to NDAs and do not disclose proprietary information.
      </p>
    </div>
  </div>
</footer>



    
    



  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  










  
  



<script
  crossorigin="anonymous"
  integrity="sha256-D2kkaxAIxGPL2I1SpG2d3fVbWmp4Bq7T1ix99waPvyM="
  src="/js/script.min.0f69246b1008c463cbd88d52a46d9dddf55b5a6a7806aed3d62c7df7068fbf23.js"></script>


<script
  defer
  async
  crossorigin="anonymous"
  integrity="sha256-w&#43;aS42D2&#43;B&#43;Jix&#43;joZ7pAua1vbu/pRK/IhoP55b8n3w="
  src="/js/script-lazy.min.c3e692e360f6f81f898b1fa3a19ee902e6b5bdbbbfa512bf221a0fe796fc9f7c.js"></script>



<script>
  if ('serviceWorker' in navigator){navigator.serviceWorker.register("/service-worker.js");}
</script>






  












  



  </body>
</html>
